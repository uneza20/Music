<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Music Player </title>
    
    <script src="https://kit.fontawesome.com/4da1b54bc7.js" crossorigin="anonymous"></script>
    </head>
  <body>
    <div class="container">
      <div class="music-player">
        <nav>
    <div class="circle">
  <i class="fa-solid fa-angle-left"></i>
            </div>
            <div class="circle">
 <i class="fa-solid fa-bars"></i>   
            
            </div>
        </nav>
        <img src="https://tse3.explicit.bing.net/th?id=OIP.KYKwswA13WI0uYjtaSl-YgAAAA&pid=Api&P=0" class="img">
        <h1>Despacito</h1>
        <p>Luis Fonsi Ft. Puerto Rican</p>
        
 
 <audio controls id="song">
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"  >
          </audio>
        <input type ="range" value="0" id="progress">
        
       <div class="controls">
 <div><i class="fa-solid fa-backward"></i></div>
  <div onclick="playPause()"><i class="fa-solid fa-play" id="ctrlIcon"></i></div>       
 <div><i class="fa-solid fa-forward"></i></div>        
      </div>
    </div>
      
  <script>
        

        let progress=document.getElementById("progress");
let song=document.getElementById("song");
let ctrlIcon=document.getElementById("ctrlIcon");

song.onloadedmetadata=function()
{
  progress.max=song.duration;
  progress.value=song.currentTime;
}

function playPause()
{
  if(ctrlIcon.classList.contains("fa-pause"))
    {
      song.pause();
      ctrlIcon.classList.remove("fa-pause");
      ctrlIcon.classList.add("fa-play");
    }
  else
    {
      song.play();
       ctrlIcon.classList.add("fa-pause");
      ctrlIcon.classList.remove("fa-play");
    }
}

if(song.play())
  {
    setInterval( ()=>{ progress.value=song.currentTime;},500);
   
  }

progress.onchange=function()
{
  song.play();
  song.currentTime=progress.value;
  ctrlIcon.classList.add("fa-pause");
  ctrlIcon.classList.remove("fa-play");
}



        
    </script>
    </body>
  </html>